
Trouble Shooting
=======

A.Affine not working
--------------------


* Problem: ``AttributeError: module 'albumentations' has no attribute 'Affine'``
* Solution:

  .. code-block:: bash

     pip uninstall albumentations
     pip install -U git+https://github.com/albumentations-team/albumentations

libmagic installation failed
----------------------------


* Problem:  `ImportError: failed to find libmagic. Check your installation`
* Solution:

  .. code-block:: python

      conda install -c conda-forge python-magic
     
  Or if you arenâ€™t using conda:

  .. code-block:: python

     sudo apt-get install python3-magic

* Check detail: https://github.com/facebookresearch/AugLy#installation


MagickWand  library not found
----------------------------
* Problem: ``ImportError: MagickWand shared library not found. You probably had not installed ImageMagick library.``
* Solution: Install ImageMagick

  .. code-block:: bash

      conda install -c conda-forge/label/cf202003 imagemagick

  Otherwise, 

  Linux:

  .. code-block:: bash

     sudo apt-get install libmagickwand-dev

  Mac:

  .. code-block:: bash
  
     brew reinstall freestyle
     brew reinstall imagemagick

* Check detail: https://docs.wand-py.org/en/latest/guide/install.html#install-imagemagick-on-windows




torchvision version to old
----------------------------
* Problem: ``AttributeError: module 'torchvision.transforms.functional' has no attribute 'InterpolationMode'``
* Solution: Upgrade torchvision

  .. code-block:: bash

      pip install --upgrade torchvision 


Problem not solved: prune
----------------------------
* Problem: other problem still not solved
* `beacon_aug` support optional backend library. So the backend library will not be available unless the dependency is installed
* You can simply remove the library dependency that your don't need, check source: https://github.com/adobe-research/beacon-aug/blob/main/beacon_aug/generator/__init__.py
* Solution1 :

  .. code-block:: bash

      pip uninstall wand   # if no need to use `imagenet_c` backend library
      pip uninstall mmcv   # if no need to use `mmcv` backend library
      pip uninstall augly   # if no need to use `augly` backend library
      pip uninstall kornia   # if no need to use `kornia` backend library

* Solution2 :
   * e.g.  reinstall beacon-aug by replacing `requirements.txt` with `requirements_prune.txt` in a new virtual environment
